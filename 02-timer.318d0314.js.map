{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAIMC,EAAO,CACXC,OAAQC,SAASC,cAAc,qBAC/BC,QAASF,SAASC,cAAc,sBAChCE,UAAWH,SAASC,cAAc,wBAClCG,UAAWJ,SAASC,cAAc,wBAClCI,WAAYL,SAASC,cAAc,sBAEnCK,WAAYN,SAASC,cAAc,UACnCM,WAAYP,SAASQ,iBAAiB,UAEtCC,cAAA,WACEC,KAAKL,WAAWM,aAAa,WAAY,O,EAE3CC,aAAA,WACE,OAAQF,KAAKL,WAAWQ,aAAa,W,EAEvCC,aAAA,WACEJ,KAAKL,WAAWU,gBAAgB,W,GAIhCC,EAAW,KACXC,EAAmB,KACnBC,EAAa,KAGXC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAA,SAAQC,GAEN,IADAT,EAAmB,IAAIM,KAAKG,EAAc,IAAIC,WACvBJ,KAAKK,MAM1B,OALAhC,EAAAiC,OAAOC,QAAQ,qCAAsC,CAAEC,QAAS,MAChEd,EAAmB,UACfnB,EAAKc,gBACPd,EAAKW,iBAKTX,EAAKgB,c,GAsBT,SAASkB,EAASC,GAGhB,IAFAjB,EAAWiB,EAAOV,KAAKK,OAER,EAGb,OAFAM,cAAchB,QACdA,EAAa,MA0BjB,IAC4CiB,EAAlCC,EAAMC,EAAOC,EAASC,EAAYJ,EApB5C,SAAmBK,GAEjB,IAAMC,EAAS,IACTC,EAAkB,GAATD,EACTE,EAAgB,GAATD,EACPE,EAAa,GAAPD,EAGNP,EAAOS,KAAKC,MAAMN,EAAKI,GAEvBP,EAAQQ,KAAKC,MAAMN,EAAMI,EAAOD,GAEhCL,EAAUO,KAAKC,MAAMN,EAAOI,EAAOD,EAAQD,GAE3CH,EAAUM,KAAKC,MAAMN,EAAQI,EAAOD,EAAQD,EAAUD,GAE5D,MAAO,CAAEL,OAAMC,QAAOC,UAASC,U,CAIWQ,CAvB7B/B,GAuBLoB,EAAkCD,EAAlCC,KAAMC,EAA4BF,EAA5BE,MAAOC,EAAqBH,EAArBG,QAASC,EAAYJ,EAAZI,QAC9BzC,EAAKC,OAAOiD,YAAcC,EAAeb,GACzCtC,EAAKI,QAAQ8C,YAAcC,EAAeZ,GAC1CvC,EAAKK,UAAU6C,YAAcC,EAAeX,GAC5CxC,EAAKM,UAAU4C,YAAcC,EAAeV,E,CAG9C,SAASU,EAAeC,GACtB,OAAOC,OAAOD,GAAOE,SAAS,EAAG,I,CAIjCtD,EAAKQ,WAAW+C,MAAMC,QAAU,OAChCxD,EAAKQ,WAAW+C,MAAME,eAAiB,SAEvCzD,EAAKS,WAAWiD,SAAQ,SAAAC,GACtBA,EAAGJ,MAAMK,YAAc,OACvBD,EAAGJ,MAAMC,QAAU,OACnBG,EAAGJ,MAAMM,cAAgB,SACzBF,EAAGJ,MAAMO,WAAa,SACtBH,EAAGI,kBAAkBR,MAAMS,SAAW,M,IAExChE,EAAKQ,WAAWyD,iBAAiBV,MAAMK,YAAc,MAvEvD5D,EAAKW,gBACLX,EAAKO,WAAW2D,iBAAiB,SAIjC,WACElE,EAAKW,gBACL,IAAMwD,EAAehD,EAEjBC,IACFgB,cAAchB,GACdA,EAAa,MAGfA,EAAagD,YAAYlC,EArCL,IAqC8BiC,E,IAXpDE,UAzBiB,mBAyBGhD,E","sources":["src/js/02-timer.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n/* import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css'; */\n\nconst refs = {\n  daysEl: document.querySelector('.value[data-days]'),\n  hoursEl: document.querySelector('.value[data-hours]'),\n  minutesEl: document.querySelector('.value[data-minutes]'),\n  secondsEl: document.querySelector('.value[data-seconds]'),\n  btnStartEl: document.querySelector('button[data-start]'),\n\n  divTimerEl: document.querySelector('.timer'),\n  divFieldEl: document.querySelectorAll('.field'),\n\n  setDisableBtn() {\n    this.btnStartEl.setAttribute('disabled', 'true');\n  },\n  isDisableBtn() {\n    return !this.btnStartEl.hasAttribute('disabled');\n  },\n  setEnableBtn() {\n    this.btnStartEl.removeAttribute('disabled');\n  },\n};\n\nlet passTime = null;\nlet nextSelectedTime = null;\nlet intervalId = null;\nconst TIME_INTERVAL = 1000;\nconst selector = \"#datetime-picker\";\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    nextSelectedTime = new Date(selectedDates[0]).getTime();\n    if (nextSelectedTime < Date.now()) {\n      Notify.failure('Please choose a date in the future', { timeout: 3000 });\n      nextSelectedTime = null;\n      if (refs.isDisableBtn()) {\n        refs.setDisableBtn();\n      }\n      return;\n    }\n\n    refs.setEnableBtn();\n  },\n};\n\nsetMarkupStyle();\nrefs.setDisableBtn();\nrefs.btnStartEl.addEventListener('click', onStartTimer);\n\nflatpickr(selector, options);\n\nfunction onStartTimer() {\n  refs.setDisableBtn();\n  const selectedTime = nextSelectedTime;\n\n  if (intervalId) {\n    clearInterval(intervalId);\n    intervalId = null;\n  }\n\n  intervalId = setInterval(timeLeft, TIME_INTERVAL, selectedTime);\n}\n\nfunction timeLeft(time) {\n  passTime = time - Date.now();\n\n  if (passTime < 0) {\n    clearInterval(intervalId);\n    intervalId = null;\n    return;\n  }\n\n  showLeftTime(passTime);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction showLeftTime(pt) {\n  const { days, hours, minutes, seconds } = convertMs(pt);\n  refs.daysEl.textContent = addLeadingZero(days);\n  refs.hoursEl.textContent = addLeadingZero(hours);\n  refs.minutesEl.textContent = addLeadingZero(minutes);\n  refs.secondsEl.textContent = addLeadingZero(seconds);\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction setMarkupStyle() {\n  refs.divTimerEl.style.display = 'flex';\n  refs.divTimerEl.style.justifyContent = 'center';\n\n  refs.divFieldEl.forEach(el => {\n    el.style.marginRight = '30px';\n    el.style.display = 'flex';\n    el.style.flexDirection = 'column';\n    el.style.alignItems = 'center';\n    el.firstElementChild.style.fontSize = '40px';\n  });\n  refs.divTimerEl.lastElementChild.style.marginRight = '0px';\n};"],"names":["$h6c0i","parcelRequire","$84b9dae4df53835d$var$refs","daysEl","document","querySelector","hoursEl","minutesEl","secondsEl","btnStartEl","divTimerEl","divFieldEl","querySelectorAll","setDisableBtn","this","setAttribute","isDisableBtn","hasAttribute","setEnableBtn","removeAttribute","$84b9dae4df53835d$var$passTime","$84b9dae4df53835d$var$nextSelectedTime","$84b9dae4df53835d$var$intervalId","$84b9dae4df53835d$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","getTime","now","Notify","failure","timeout","$84b9dae4df53835d$var$timeLeft","time","clearInterval","ref","days","hours","minutes","seconds","ms","second","minute","hour","day","Math","floor","$84b9dae4df53835d$var$convertMs","textContent","$84b9dae4df53835d$var$addLeadingZero","value","String","padStart","style","display","justifyContent","forEach","el","marginRight","flexDirection","alignItems","firstElementChild","fontSize","lastElementChild","addEventListener","selectedTime","setInterval","flatpickr"],"version":3,"file":"02-timer.318d0314.js.map"}