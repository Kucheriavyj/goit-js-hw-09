{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,qBAC/BC,QAASF,SAASC,cAAc,sBAChCE,UAAWH,SAASC,cAAc,wBAClCG,UAAWJ,SAASC,cAAc,wBAClCI,WAAYL,SAASC,cAAc,sBAEnCK,WAAYN,SAASC,cAAc,UACnCM,WAAYP,SAASQ,iBAAiB,UAEtCC,gBACEC,KAAKL,WAAWM,aAAa,WAAY,O,EAE3CC,eACE,OAAQF,KAAKL,WAAWQ,aAAa,W,EAEvCC,eACEJ,KAAKL,WAAWU,gBAAgB,W,GAIpC,IAAIC,EAAW,KACXC,EAAmB,KACnBC,EAAa,KACjB,MAEMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GAEN,GADAT,EAAmB,IAAIM,KAAKG,EAAc,IAAIC,UAC1CV,EAAmBM,KAAKK,MAM1B,OALAhC,EAAAiC,OAAOC,QAAQ,qCAAsC,CAAEC,QAAS,MAChEd,EAAmB,UACfnB,EAAKc,gBACPd,EAAKW,iBAKTX,EAAKgB,c,GAsBT,SAASkB,EAASC,GAGhB,GAFAjB,EAAWiB,EAAOV,KAAKK,MAEnBZ,EAAW,EAGb,OAFAkB,cAAchB,QACdA,EAAa,OA0BjB,SAAsBiB,GACpB,MAAMC,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,GApBhC,SAAmBC,GAEjB,MAAMC,EAAS,IACTC,EAAkB,GAATD,EACTE,EAAgB,GAATD,EACPE,EAAa,GAAPD,EAGNP,EAAOS,KAAKC,MAAMN,EAAKI,GAEvBP,EAAQQ,KAAKC,MAAMN,EAAMI,EAAOD,GAEhCL,EAAUO,KAAKC,MAAMN,EAAOI,EAAOD,EAAQD,GAE3CH,EAAUM,KAAKC,MAAMN,EAAQI,EAAOD,EAAQD,EAAUD,GAE5D,MAAO,C,KAAEL,E,MAAMC,E,QAAOC,E,QAASC,E,CAIWQ,CAAUZ,GACpDrC,EAAKC,OAAOiD,YAAcC,EAAeb,GACzCtC,EAAKI,QAAQ8C,YAAcC,EAAeZ,GAC1CvC,EAAKK,UAAU6C,YAAcC,EAAeX,GAC5CxC,EAAKM,UAAU4C,YAAcC,EAAeV,E,CA3B5CW,CAAalC,E,CA8Bf,SAASiC,EAAeE,GACtB,OAAOC,OAAOD,GAAOE,SAAS,EAAG,I,CAIjCvD,EAAKQ,WAAWgD,MAAMC,QAAU,OAChCzD,EAAKQ,WAAWgD,MAAME,eAAiB,SAEvC1D,EAAKS,WAAWkD,SAAQC,IACtBA,EAAGJ,MAAMK,YAAc,OACvBD,EAAGJ,MAAMC,QAAU,OACnBG,EAAGJ,MAAMM,cAAgB,SACzBF,EAAGJ,MAAMO,WAAa,SACtBH,EAAGI,kBAAkBR,MAAMS,SAAW,MAAM,IAE9CjE,EAAKQ,WAAW0D,iBAAiBV,MAAMK,YAAc,MAvEvD7D,EAAKW,gBACLX,EAAKO,WAAW4D,iBAAiB,SAIjC,WACEnE,EAAKW,gBACL,MAAMyD,EAAejD,EAEjBC,IACFgB,cAAchB,GACdA,EAAa,MAGfA,EAAaiD,YAAYnC,EArCL,IAqC8BkC,E,IAXpDE,UAzBiB,mBAyBGjD","sources":["src/js/02-timer.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n/* import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css'; */\n\nconst refs = {\n  daysEl: document.querySelector('.value[data-days]'),\n  hoursEl: document.querySelector('.value[data-hours]'),\n  minutesEl: document.querySelector('.value[data-minutes]'),\n  secondsEl: document.querySelector('.value[data-seconds]'),\n  btnStartEl: document.querySelector('button[data-start]'),\n\n  divTimerEl: document.querySelector('.timer'),\n  divFieldEl: document.querySelectorAll('.field'),\n\n  setDisableBtn() {\n    this.btnStartEl.setAttribute('disabled', 'true');\n  },\n  isDisableBtn() {\n    return !this.btnStartEl.hasAttribute('disabled');\n  },\n  setEnableBtn() {\n    this.btnStartEl.removeAttribute('disabled');\n  },\n};\n\nlet passTime = null;\nlet nextSelectedTime = null;\nlet intervalId = null;\nconst TIME_INTERVAL = 1000;\nconst selector = \"#datetime-picker\";\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    nextSelectedTime = new Date(selectedDates[0]).getTime();\n    if (nextSelectedTime < Date.now()) {\n      Notify.failure('Please choose a date in the future', { timeout: 3000 });\n      nextSelectedTime = null;\n      if (refs.isDisableBtn()) {\n        refs.setDisableBtn();\n      }\n      return;\n    }\n\n    refs.setEnableBtn();\n  },\n};\n\nsetMarkupStyle();\nrefs.setDisableBtn();\nrefs.btnStartEl.addEventListener('click', onStartTimer);\n\nflatpickr(selector, options);\n\nfunction onStartTimer() {\n  refs.setDisableBtn();\n  const selectedTime = nextSelectedTime;\n\n  if (intervalId) {\n    clearInterval(intervalId);\n    intervalId = null;\n  }\n\n  intervalId = setInterval(timeLeft, TIME_INTERVAL, selectedTime);\n}\n\nfunction timeLeft(time) {\n  passTime = time - Date.now();\n\n  if (passTime < 0) {\n    clearInterval(intervalId);\n    intervalId = null;\n    return;\n  }\n\n  showLeftTime(passTime);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction showLeftTime(pt) {\n  const { days, hours, minutes, seconds } = convertMs(pt);\n  refs.daysEl.textContent = addLeadingZero(days);\n  refs.hoursEl.textContent = addLeadingZero(hours);\n  refs.minutesEl.textContent = addLeadingZero(minutes);\n  refs.secondsEl.textContent = addLeadingZero(seconds);\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction setMarkupStyle() {\n  refs.divTimerEl.style.display = 'flex';\n  refs.divTimerEl.style.justifyContent = 'center';\n\n  refs.divFieldEl.forEach(el => {\n    el.style.marginRight = '30px';\n    el.style.display = 'flex';\n    el.style.flexDirection = 'column';\n    el.style.alignItems = 'center';\n    el.firstElementChild.style.fontSize = '40px';\n  });\n  refs.divTimerEl.lastElementChild.style.marginRight = '0px';\n};"],"names":["$iQIUW","parcelRequire","$40d383fb392a7037$var$refs","daysEl","document","querySelector","hoursEl","minutesEl","secondsEl","btnStartEl","divTimerEl","divFieldEl","querySelectorAll","setDisableBtn","this","setAttribute","isDisableBtn","hasAttribute","setEnableBtn","removeAttribute","$40d383fb392a7037$var$passTime","$40d383fb392a7037$var$nextSelectedTime","$40d383fb392a7037$var$intervalId","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","getTime","now","Notify","failure","timeout","$40d383fb392a7037$var$timeLeft","time","clearInterval","pt","days","hours","minutes","seconds","ms","second","minute","hour","day","Math","floor","$40d383fb392a7037$var$convertMs","textContent","$40d383fb392a7037$var$addLeadingZero","$40d383fb392a7037$var$showLeftTime","value","String","padStart","style","display","justifyContent","forEach","el","marginRight","flexDirection","alignItems","firstElementChild","fontSize","lastElementChild","addEventListener","selectedTime","setInterval","flatpickr"],"version":3,"file":"02-timer.ba777781.js.map"}